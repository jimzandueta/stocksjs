!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"getSMA",(function(){return r})),n.d(t,"getEMA",(function(){return o})),n.d(t,"getMACD",(function(){return c})),n.d(t,"getSignal",(function(){return a})),n.d(t,"getHistogram",(function(){return l})),n.d(t,"getALMA",(function(){return d})),n.d(t,"getMACDCross",(function(){return s})),n.d(t,"getTrend",(function(){return g}));var r=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sma",o=0;o<e.length;o++)if(o<e.length-t+1){for(var a=0,i=o;i<o+t;i++)a+=parseFloat(e[i][n]);e[o]["".concat(r).concat(t)]=(a/t).toFixed(6)}else e[o]["".concat(r).concat(t)]=(0).toFixed(6);return e},o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ema",a=2,i=a/(1+t),l=e[0].hasOwnProperty("sma".concat(t)),c=(e=l?e:r(e,t)).length-1;c>=0;c--)c===e.length-t?e[c]["".concat(o).concat(t)]=e[c]["sma".concat(t)]:c<e.length-t?e[c]["".concat(o).concat(t)]=(parseFloat(e[c][n]*i)+parseFloat(e[c+1]["".concat(o).concat(t)]*(1-i))).toFixed(6):e[c]["".concat(o).concat(t)]=(0).toFixed(6),l||delete e[c]["sma".concat(t)];return e},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"signal",a=t.fastPeriod?period.fastPeriod:12,i=t.slowPeriod?period.slowPeriod:26,l=t.signalLength?period.signalLength:9,d=e[0].hasOwnProperty("macd"),s=e[0].hasOwnProperty("macdsma".concat(l));e=d?e:c(e,{fastPeriod:a,slowPeriod:i},n);for(var g=2,u=g/(1+l),f=(e=s?e:r(e,l,"macd","macdsma")).length-1;f>=0;f--)f===e.length-l-i-1?e[f][o]=e[f]["macdsma".concat(l)]:f<e.length-l-i-1?e[f][o]=(parseFloat(e[f].macd*u)+parseFloat(e[f+1][o]*(1-u))).toFixed(6):e[f][o]=(0).toFixed(6),d||delete e[f].macd,s||delete e[f]["macdsma".concat(l)];return e},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"histogram",o=t.fastPeriod?period.fastPeriod:12,l=t.slowPeriod?period.slowPeriod:26,d=t.signalLength?period.signalLength:9,s=e[i].hasOwnProperty("macd"),g=e[i].hasOwnProperty("signal");e=s?e:c(e,{fastPeriod:o,slowPeriod:l},n),e=g?e:a(e,{fastPeriod:o,slowPeriod:l,signalLength:d},n);for(var u=0;u<e.length;u++)e[u][r]=(parseFloat(e[u].macd)-parseFloat(e[u].signal)).toFixed(6);return e},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"macd",i=arguments.length>4?arguments[4]:void 0,c=t.fastPeriod?t.fastPeriod:12,d=t.slowPeriod?t.slowPeriod:26,s=t.signalLength?t.signalLength:9,g=e[0].hasOwnProperty("ema".concat(c)),u=e[0].hasOwnProperty("ema".concat(d));e=g?e:o(e,c,n),e=u?e:o(e,d,n);for(var f=0;f<e.length;f++)f<e.length-d-1?e[f][r]=parseFloat(e[f]["ema".concat(c)]-e[f]["ema".concat(d)]).toFixed(6):e[f][r]=(0).toFixed(6),g||delete e[f]["ema".concat(c)],u||delete e[f]["ema".concat(d)];return e=i.includeSignal?a(e,{fastPeriod:c,slowPeriod:d,signalLength:s},n):e,e=i.includeHistogram?l(e,{fastPeriod:c,slowPeriod:d,signalLength:s},n):e},d=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.85,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"price",a=t+1,i=Math.floor(r*t),l=t/n,c=0;c<e.length;c++){var d=0,s=0;if(c+t<e.length){for(var g=c;g<c+a;g++){var u=g-c,f=Math.exp(-(u-i)*(u-i)/(2*l*l));d+=parseFloat(e[c+a-1-u][o])*f,s+=f}e[c].alma=(d/s).toFixed(4)}else e[c].alma=(0).toFixed(4)}return e},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=t.fastPeriod?period.fastPeriod:12,o=t.slowPeriod?period.slowPeriod:26,a=t.signalLength?period.signalLength:9,i={includeSignal:!0,includeHistogram:!0};histArr=c(histArr,{fastPeriod:r,slowPeriod:o,signalLength:a},n,"macd",i);for(var l=[],d=0,s=0;s<e.length;s++){var g=parseFloat(e[d].macd)>parseFloat(e[d].signal),u=parseFloat(e[s].macd)>parseFloat(e[s].signal);!g!=!u&&(l.push(e[s-d-1]),d=s)}return l},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={increasing:[],decreasing:[],equals:[]},i=e.slice(n,r).reverse();return i.map((function(e,n,r){if(n>0){var i=parseFloat(e[t]-r[n-1][t]);0===(i=o?Math.abs(i):i)?a.equals.push(i):i>0?a.increasing.push(i):a.decreasing.push(i)}return e})),a.increasing.length>a.decreasing.length+a.equals.length?1:a.decreasing.length>a.increasing.length+a.equals.length?-1:(a.equals.length,a.increasing.length,a.decreasing.length,0)};t.default={getSMA:r,getEMA:o,getMACD:c,getSignal:a,getHistogram:l,getALMA:d,getMACDCross:s,getTrend:g}}])}));