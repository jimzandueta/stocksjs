!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"getSMA",(function(){return r})),n.d(t,"getEMA",(function(){return a})),n.d(t,"getMACD",(function(){return l})),n.d(t,"getSignal",(function(){return o})),n.d(t,"getHistogram",(function(){return i})),n.d(t,"getALMA",(function(){return c})),n.d(t,"getALMACross",(function(){return s})),n.d(t,"getMACDCross",(function(){return g})),n.d(t,"getRSI",(function(){return u})),n.d(t,"getRSICross",(function(){return h})),n.d(t,"getTP",(function(){return f})),n.d(t,"getCCI",(function(){return p})),n.d(t,"getCCICross",(function(){return v})),n.d(t,"getTrend",(function(){return d}));var r=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sma",a=0;a<e.length;a++)if(a<e.length-t+1){for(var o=0,i=a;i<a+t;i++)o+=parseFloat(e[i][n]);e[a]["".concat(r).concat(t)]=(o/t).toFixed(6)}else e[a]["".concat(r).concat(t)]=(0).toFixed(6);return e},a=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ema",o=2,i=o/(1+t),l=e[0].hasOwnProperty("sma".concat(t)),c=(e=l?e:r(e,t)).length-1;c>=0;c--)c===e.length-t?e[c]["".concat(a).concat(t)]=e[c]["sma".concat(t)]:c<e.length-t?e[c]["".concat(a).concat(t)]=(parseFloat(e[c][n]*i)+parseFloat(e[c+1]["".concat(a).concat(t)]*(1-i))).toFixed(6):e[c]["".concat(a).concat(t)]=(0).toFixed(6),l||delete e[c]["sma".concat(t)];return e},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"signal",o=t.fastPeriod?t.fastPeriod:12,i=t.slowPeriod?t.slowPeriod:26,c=t.signalLength?t.signalLength:9,s=e[0].hasOwnProperty("macd"),g=e[0].hasOwnProperty("macdsma".concat(c));e=s?e:l(e,{fastPeriod:o,slowPeriod:i},n);for(var d=2,u=d/(1+c),h=(e=g?e:r(e,c,"macd","macdsma")).length-1;h>=0;h--)h===e.length-c-i-1?e[h][a]=e[h]["macdsma".concat(c)]:h<e.length-c-i-1?e[h][a]=(parseFloat(e[h].macd*u)+parseFloat(e[h+1][a]*(1-u))).toFixed(6):e[h][a]=(0).toFixed(6),s||delete e[h].macd,g||delete e[h]["macdsma".concat(c)];return e},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"histogram",a=t.fastPeriod?t.fastPeriod:12,i=t.slowPeriod?t.slowPeriod:26,c=t.signalLength?t.signalLength:9,s=e[0].hasOwnProperty("macd"),g=e[0].hasOwnProperty("signal");e=s?e:l(e,{fastPeriod:a,slowPeriod:i},n),e=g?e:o(e,{fastPeriod:a,slowPeriod:i,signalLength:c},n);for(var d=0;d<e.length;d++)e[d][r]=(parseFloat(e[d].macd)-parseFloat(e[d].signal)).toFixed(6);return e},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"macd",l=arguments.length>4?arguments[4]:void 0,c=t.fastPeriod?t.fastPeriod:12,s=t.slowPeriod?t.slowPeriod:26,g=t.signalLength?t.signalLength:9,d=e[0].hasOwnProperty("ema".concat(c)),u=e[0].hasOwnProperty("ema".concat(s));e=d?e:a(e,c,n),e=u?e:a(e,s,n);for(var h=0;h<e.length;h++)h<e.length-s-1?e[h][r]=parseFloat(e[h]["ema".concat(c)]-e[h]["ema".concat(s)]).toFixed(6):e[h][r]=(0).toFixed(6),d||delete e[h]["ema".concat(c)],u||delete e[h]["ema".concat(s)];return e=l.includeSignal?o(e,{fastPeriod:c,slowPeriod:s,signalLength:g},n):e,e=l.includeHistogram?i(e,{fastPeriod:c,slowPeriod:s,signalLength:g},n):e},c=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.85,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"price",o=t+1,i=Math.floor(r*t),l=t/n,c=0;c<e.length;c++){var s=0,g=0;if(c+t<e.length){for(var d=c;d<c+o;d++){var u=d-c,h=Math.exp(-(u-i)*(u-i)/(2*l*l));s+=parseFloat(e[c+o-1-u][a])*h,g+=h}e[c].alma=(s/g).toFixed(4)}else e[c].alma=(0).toFixed(4)}return e},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.85,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"price",o=e[0].hasOwnProperty("alma");e=o?e:c(e,t,n,r,a);for(var i=[],l=0,s=0;s<e.length;s++){var g=parseFloat(e[l][a])>=parseFloat(e[l].alma),d=(parseFloat(e[l][a]),parseFloat(e[l].alma),parseFloat(e[s][a]),parseFloat(e[s].alma),parseFloat(e[s][a])<parseFloat(e[s].alma));g&&d?(e[l].days=l,i.push(e[l]),l=s):l=s,o||delete e[s].alma}return i},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"price",r=t.fastPeriod?t.fastPeriod:12,a=t.slowPeriod?t.slowPeriod:26,o=t.signalLength?t.signalLength:9,i={includeSignal:!0,includeHistogram:!0},c=e[0].hasOwnProperty("macd");e=c?e:l(e,{fastPeriod:r,slowPeriod:a,signalLength:o},n,"macd",i);for(var s=[],g=0,d=0;d<e.length;d++){var u=parseFloat(e[g].macd)>parseFloat(e[g].signal),h=parseFloat(e[d].macd)>parseFloat(e[d].signal);!u!=!h&&(e[d-g-1].days=d-g-1,s.push(e[d-g-1]),g=d),c||delete e[d].macd}return s},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={increasing:[],decreasing:[],equals:[]},i=e.slice(n,r).reverse();return i.map((function(e,n,r){if(n>0){var i=parseFloat(e[t]-r[n-1][t]);0===(i=a?Math.abs(i):i)?o.equals.push(i):i>0?o.increasing.push(i):o.decreasing.push(i)}return e})),o.increasing.length>o.decreasing.length+o.equals.length?1:o.decreasing.length>o.increasing.length+o.equals.length?-1:(o.equals.length,o.increasing.length,o.decreasing.length,0)},u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"change",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rsi",a=e.length-1;a>=0;a--){var o=[],i=[],l=null,c=null,s=null,g=null;if(a<=e.length-1-t)for(var d=a;d<a+t;d++){var u=parseFloat(e[d][n]);u>=0?o.push(u):o.push(0),u<0?i.push(Math.abs(u)):i.push(0)}a===e.length-1-t?(l=o.reduce((function(e,t){return e+t}))/o.length,c=i.reduce((function(e,t){return e+t}))/i.length):a<e.length-1-t?(s=o.slice(0,1)[0],g=i.slice(0,1)[0],l=(e[a+1].gAve*(t-1)+s)/t,c=(e[a+1].lAve*(t-1)+g)/t,delete e[a+1].gAve,delete e[a+1].lAve):(e[a].gAve=0,e[a].lAve=0,e[a]["".concat(r).concat(t)]=(0).toFixed(2)),e[a].gAve=l,e[a].lAve=c,e[a]["".concat(r).concat(t)]=(100-100/(1+l/c)).toFixed(4)}return e},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:14,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"change",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[50,55],a=e[0].hasOwnProperty("rsi".concat(t));e=a?e:u(e,t,n);for(var o=[],i=0,l=0;l<e.length;l++){var c=parseFloat(e[i]["rsi".concat(t)])>=r[1],s=parseFloat(e[i]["rsi".concat(t)])>=r[0]&&parseFloat(e[i]["rsi".concat(t)])<r[1],g=parseFloat(e[i]["rsi".concat(t)])<r[0],d=parseFloat(e[l]["rsi".concat(t)])>=r[1],h=parseFloat(e[l]["rsi".concat(t)])>=r[0]&&parseFloat(e[l]["rsi".concat(t)])<r[1],f=parseFloat(e[l]["rsi".concat(t)])<r[0];c&&(h||f)||s&&f?(e[i].days=i,o.push(e[i]),i=l):(g&&(f||h||d)||s&&(h||d)||c&&d)&&(i=l),a||delete e[l]["rsi".concat(t)]}return o},f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["price","high","low"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tp",r=0;r<e.length;r++){var a=parseFloat(e[r][t[0]])+parseFloat(e[r][t[1]])+parseFloat(e[r][t[2]]);e[r][n]=(a/t.length).toFixed(6)}return e},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.015,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["price","high","low"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"cci";e=f(e,a);for(var i=(e=r(e,t,"tp","smatp")).length-1;i>=0;i--)if(i<=e.length-t){for(var l=0,c=i;c<i+t;c++)l+=Math.abs(parseFloat(e[c].tp)-parseFloat(e[i]["smatp".concat(t)]));var s=l/t;e[i][o]=((parseFloat(e[i].tp)-parseFloat(e[i]["smatp".concat(t)]))/(n*s)).toFixed(4)}else e[i][o]=(0).toFixed(4);return e},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.015,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["price","high","low"],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,o=e[0].hasOwnProperty("cci");e=o?e:p(e,t,n,r);for(var i=[],l=0,c=0;c<e.length;c++){var s=parseFloat(e[l].cci)>=a,g=(parseFloat(e[l].cci),parseFloat(e[c].cci),parseFloat(e[c].cci)<a);s&&g?(e[l].days=l,i.push(e[l]),l=c):l=c,o||delete e[c].cci}return i};t.default={getSMA:r,getEMA:a,getMACD:l,getSignal:o,getHistogram:i,getALMA:c,getALMACross:s,getMACDCross:g,getRSI:u,getRSICross:h,getTP:f,getCCI:p,getCCICross:v,getTrend:d}}])}));